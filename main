-- Modern UI Yükleme
local Rayfield = loadstring(game:HttpGet('https://sirius.menu/rayfield'))()

-- DİL VE DURUM SİSTEMİ
local currLang = "TR"
local selectedPlayer = nil

local Window = Rayfield:CreateWindow({
   Name = "Gemini Ultra Hub V4 | Full Gamepass",
   LoadingTitle = "Gamepass Bypass Hazırlanıyor...",
   LoadingSubtitle = "Ege001 Özel Versiyon",
   ConfigurationSaving = { Enabled = true, FolderName = "GeminiV4" }
})

-- SEKMELER
local MainTab = Window:CreateTab("Karakter / Player", 4483362458)
local CarTab = Window:CreateTab("Araçlar / Cars", 4483362458)
local ViewTab = Window:CreateTab("İzleme / View", 4483362458)
local VIPTab = Window:CreateTab("Bypass & Gamepass", 4483362458)
local ConfigTab = Window:CreateTab("Ayarlar / Settings", 4483362458)

-- 1. FULL GAMEPASS BYPASS (GÖNDERDİĞİN VERİLERLE)
VIPTab:CreateButton({
   Name = "Full Gamepass Aktif Et (Bypass All)",
   Callback = function()
      local Success, Error = pcall(function()
          -- Gönderdiğin ID listesini kullanarak oyunun kontrol sistemini kandıran ana fonksiyon
          local old; old = hookmetamethod(game, "__index", function(self, key)
              -- Brookhaven'ın sahiplik sorgularını yakalar ve her zaman 'true' (sahip) döndürür
              if not checkcaller() and (key == "UserOwnsGamePassAsync" or key == "PlayerOwnsAsset") then
                  return true
              end
              return old(self, key)
          end)

          -- Brookhaven'ın dahili yetki tablolarını (__GAMEPASS = true) olarak zorla günceller 
          for _, v in pairs(getgc(true)) do
              if type(v) == "table" and rawget(v, "__GAMEPASS") ~= nil then
                  v.__GAMEPASS = true
              end
          end
      end)
      
      if Success then
          Rayfield:Notify({Title = "Bypass Başarılı", Content = "Premium, VIP ve Tüm Paketler Açıldı!", Duration = 5})
      else
          Rayfield:Notify({Title = "Hata", Content = "Bypass sisteminde sorun oluştu.", Duration = 5})
      end
   end,
})

-- 2. OYUNCU SEÇME VE İZLEME (VIEW)
local pList = {}
local function updatePlayers()
    pList = {}
    for _, v in pairs(game.Players:GetPlayers()) do
        if v ~= game.Players.LocalPlayer then table.insert(pList, v.Name) end
    end
end
updatePlayers()

local PlayerDrop = ViewTab:CreateDropdown({
   Name = "Oyuncu Seç / Select Player",
   Options = pList,
   CurrentOption = "",
   Callback = function(Option)
      selectedPlayer = game.Players:FindFirstChild(Option)
   end,
})

ViewTab:CreateButton({
   Name = "Listeyi Yenile / Refresh List",
   Callback = function()
      updatePlayers()
      PlayerDrop:Refresh(pList)
   end,
})

ViewTab:CreateToggle({
   Name = "İzle (View On/Off)",
   CurrentValue = false,
   Callback = function(Value)
      if Value and selectedPlayer and selectedPlayer.Character then
         game.Workspace.CurrentCamera.CameraSubject = selectedPlayer.Character.Humanoid
      else
         game.Workspace.CurrentCamera.CameraSubject = game.Players.LocalPlayer.Character.Humanoid
      end
   end,
})

-- 3. AVATAR KOPYALAMA (FULL)
ViewTab:CreateButton({
   Name = "Avatar Kopyala / Copy Outfit",
   Callback = function()
      if selectedPlayer and selectedPlayer.Character then
          local LocalChar = game.Players.LocalPlayer.Character
          -- Önce mevcut kıyafetleri temizle
          for _, v in pairs(LocalChar:GetChildren()) do
              if v:IsA("Shirt") or v:IsA("Pants") or v:IsA("Accessory") then v:Destroy() end
          end
          -- Hedefin her şeyini kopyala
          for _, v in pairs(selectedPlayer.Character:GetChildren()) do
              if v:IsA("Shirt") or v:IsA("Pants") or v:IsA("Accessory") then
                  v:Clone().Parent = LocalChar
              end
          end
      end
   end,
})

-- 4. ARAÇ HIZI (TÜM ARAÇLAR İÇİN)
CarTab:CreateToggle({
   Name = "Süper Hız (Max Speed)",
   CurrentValue = false,
   Callback = function(Value)
      _G.CarFast = Value
      spawn(function()
         while _G.CarFast do
            task.wait(0.1)
            pcall(function()
                for _, v in pairs(game.Workspace.Vehicles:GetChildren()) do
                    local seat = v:FindFirstChildWhichIsA("VehicleSeat", true)
                    if seat and seat.Occupant and seat.Occupant.Parent == game.Players.LocalPlayer.Character then
                        seat.MaxSpeed = 300
                        seat.Torque = 5000
                    end
                end
            end)
         end
      end)
   end,
})

-- 5. AYARLAR VE DİL
ConfigTab:CreateDropdown({
   Name = "Dil / Language",
   Options = {"Türkçe", "English"},
   CurrentOption = "Türkçe",
   Callback = function(Option)
      currLang = (Option == "Türkçe") and "TR" or "EN"
      Rayfield:Notify({Title = "Ayar Kaydedildi", Content = "Dil: " .. Option})
   end,
})

ConfigTab:CreateButton({
   Name = "Paneli Kapat (Destroy GUI)",
   Callback = function() Rayfield:Destroy() end,
})
