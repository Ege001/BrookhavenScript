--[[
    ğŸ‘‘ SOVEREIGN V47 | APEX ULTIMATE (FIXED)
    OWNER: EgeKazak_Real1
    - Speed & Jump 1000 Limit (Heartbeat Force)
    - Ads & Sponsor Menu Restore (Decompiled Logic)
    - Cmdr SuperAdmin Unlocked
    - Bank & Police Precise Coordinates
]]

-- ğŸŒ€ 1. GeliÅŸmiÅŸ AÃ§Ä±lÄ±ÅŸ EkranÄ±
local function ShowIntro()
    local sg = Instance.new("ScreenGui", game:GetService("CoreGui"))
    local frame = Instance.new("Frame", sg)
    frame.Size = UDim2.new(1, 0, 1, 0)
    frame.BackgroundColor3 = Color3.fromRGB(2, 2, 8)
    
    local label = Instance.new("TextLabel", frame)
    label.Size = UDim2.new(0, 800, 0, 100)
    label.Position = UDim2.new(0.5, -400, 0.45, 0)
    label.Text = "SOVEREIGN APEX V47\nEgeKazak_Real1 Ã–zel SÃ¼rÃ¼mÃ¼ HazÄ±rlanÄ±yor..."
    label.TextColor3 = Color3.fromRGB(0, 180, 255)
    label.Font = Enum.Font.GothamBold
    label.TextSize = 32
    label.BackgroundTransparency = 1
    
    local barBG = Instance.new("Frame", frame)
    barBG.Size = UDim2.new(0, 400, 0, 4)
    barBG.Position = UDim2.new(0.5, -200, 0.6, 0)
    barBG.BackgroundColor3 = Color3.fromRGB(20, 20, 30)
    
    local bar = Instance.new("Frame", barBG)
    bar.Size = UDim2.new(0, 0, 1, 0)
    bar.BackgroundColor3 = Color3.fromRGB(0, 180, 255)
    bar:TweenSize(UDim2.new(1, 0, 1, 0), "Out", "Quad", 2.5)
    
    task.wait(3)
    sg:Destroy()
end
pcall(ShowIntro)

-- ğŸ‘‘ 2. Ana DeÄŸiÅŸkenler ve Servisler
local Rayfield = loadstring(game:HttpGet('https://sirius.menu/rayfield'))()
local lp = game.Players.LocalPlayer
local rs = game:GetService("ReplicatedStorage")
local runService = game:GetService("RunService")
local uis = game:GetService("UserInputService")

-- Durum DeÄŸiÅŸkenleri
_G.WalkSpeed = 16
_G.JumpPower = 50
_G.Noclip = false
_G.InfJump = false
_G.AutoAds = true

-- ğŸ‘‘ 3. Ana Pencere
local Window = Rayfield:CreateWindow({
   Name = "ğŸ‘‘ SOVEREIGN V47 | APEX",
   LoadingTitle = "EgeKazak_Real1",
   LoadingSubtitle = "HÄ±z & VIP Kilitleri KÄ±rÄ±ldÄ±",
   Theme = "DarkBlue",
   ConfigurationSaving = { Enabled = false }
})

-- --- [1. TAB: ANA SÄ°STEM] ---
local MainTab = Window:CreateTab("ğŸ  Ana Sistem", 4483362458)

MainTab:CreateButton({
   Name = "ğŸ“¢ REKLAM / SPONSOR PANELÄ°NÄ° ZORLA AÃ‡",
   Callback = function()
       pcall(function()
           -- Gamepass.txt'deki sinyalleri taklit ederek menÃ¼yÃ¼ tetikliyoruz
           local gui = lp.PlayerGui:FindFirstChild("MainGUIHandler", true)
           if gui then
               local ads = gui:FindFirstChild("AdStore", true)
               if ads then 
                   ads.Visible = true 
                   ads.Position = UDim2.new(0.5, 0, 0.5, 0)
                   Rayfield:Notify({Title = "Sistem", Content = "Reklam Paneli Aktif Edildi!", Duration = 3})
               end
           end
       end)
   end,
})

MainTab:CreateButton({
   Name = "âŒ¨ï¸ CMDR ADMIN PANELÄ°NÄ° AÃ‡ (F2)",
   Callback = function()
       pcall(function()
           local cmdr = require(rs:WaitForChild("Packages"):WaitForChild("CmdrClient"))
           cmdr:Show()
       end)
   end,
})

MainTab:CreateButton({
   Name = "ğŸ”´ SCRIPT'Ä° TAMAMEN SÄ°L (Destroy)",
   Callback = function()
       _G.WalkSpeed = 16
       _G.JumpPower = 50
       Rayfield:Destroy()
   end,
})

-- --- [2. TAB: HAREKET (SPEED & JUMP FIX)] ---
local MoveTab = Window:CreateTab("âš¡ Hareket", 4483362458)
MoveTab:CreateSection("HÄ±z & ZÄ±plama (Max 1000)")

MoveTab:CreateSlider({
   Name = "YÃ¼rÃ¼me HÄ±zÄ± (WalkSpeed)",
   Range = {16, 1000},
   CurrentValue = 16,
   Callback = function(Value)
       _G.WalkSpeed = Value
   end,
})

MoveTab:CreateSlider({
   Name = "ZÄ±plama GÃ¼cÃ¼ (JumpPower)",
   Range = {50, 1000},
   CurrentValue = 50,
   Callback = function(Value)
       _G.JumpPower = Value
   end,
})

MoveTab:CreateToggle({
   Name = "Duvar GeÃ§me (Noclip)",
   Callback = function(Value)
       _G.Noclip = Value
   end,
})

MoveTab:CreateToggle({
   Name = "Sonsuz ZÄ±plama (Inf Jump)",
   Callback = function(Value)
       _G.InfJump = Value
   end,
})

-- --- [3. TAB: IÅINLANMA (NOKTA ATIÅI)] ---
local TPTab = Window:CreateTab("âœˆï¸ IÅŸÄ±nlanma", 4483362458)

TPTab:CreateButton({
    Name = "ğŸ’° BANKA (YENÄ° KONUM FIX)",
    Callback = function()
        lp.Character.HumanoidRootPart.CFrame = CFrame.new(-10.7334747, 15.4523478, 275.049194)
    end,
})

TPTab:CreateButton({
    Name = "ğŸ¢ POLÄ°S MERKEZÄ°",
    Callback = function()
        lp.Character.HumanoidRootPart.CFrame = CFrame.new(-119.57766, 2.72700167, 12.2390404)
    end,
})

-- --- [4. TAB: EÅYALAR] ---
local ToolTab = Window:CreateTab("ğŸ“¦ EÅŸyalar", 4483362458)

ToolTab:CreateButton({
   Name = "ğŸ’µ MONEY GUN (VIP) AL",
   Callback = function()
       pcall(function()
           local remote = rs:FindFirstChild("ItemRemote", true)
           if remote then remote:FireServer("MoneyGun") end
           local tool = rs:FindFirstChild("MoneyGun", true)
           if tool then tool:Clone().Parent = lp.Backpack end
       end)
   end,
})

-- --- [ ğŸ› ï¸ SÃœREKLÄ° DÃ–NGÃœSÃœEL SÄ°STEMLER ] ---

-- HÄ±z ve ZÄ±plama Sabitleyici (Oyunun 16'ya Ã§ekmesini engeller)
runService.Heartbeat:Connect(function()
    pcall(function()
        if lp.Character and lp.Character:FindFirstChild("Humanoid") then
            local hum = lp.Character.Humanoid
            hum.WalkSpeed = _G.WalkSpeed
            hum.JumpPower = _G.JumpPower
            hum.UseJumpPower = true -- BazÄ± oyunlarda JumpHeight yerine JumpPower kullanÄ±mÄ± zorunludur
        end
        
        -- Noclip UygulamasÄ±
        if _G.Noclip and lp.Character then
            for _, part in pairs(lp.Character:GetDescendants()) do
                if part:IsA("BasePart") then
                    part.CanCollide = false
                end
            end
        end
    end)
end)

-- Sonsuz ZÄ±plama Sinyali
uis.JumpRequest:Connect(function()
    if _G.InfJump and lp.Character and lp.Character:FindFirstChild("Humanoid") then
        lp.Character.Humanoid:ChangeState(Enum.HumanoidStateType.Jumping)
    end
end)

-- VIP ve Reklam Verilerini Arka Planda GÃ¼ncelle
task.spawn(function()
    while task.wait(5) do
        pcall(function()
            -- ShowGamepass.txt'deki IsOwned mantÄ±ÄŸÄ±nÄ± kandÄ±r
            local sgp = require(rs.Modules.Client.UI.ShowGamepass)
            if sgp then 
                sgp.IsOwned = function() return true end 
                sgp.IsPlayerOwned = function() return true end
            end
        end)
    end
end)

Rayfield:LoadConfiguration()
