-- Modern UI Yükleme
local Rayfield = loadstring(game:HttpGet('https://sirius.menu/rayfield'))()

local Window = Rayfield:CreateWindow({
   Name = "Gemini Hub V5 | Anti-Fetched Bypass",
   LoadingTitle = "Güvenlik Duvarı Aşılıyor...",
   LoadingSubtitle = "AllPassesFetched Bypass Aktif...",
   ConfigurationSaving = { Enabled = true, FolderName = "GeminiV5" }
})

-- SEKMELER
local MainTab = Window:CreateTab("Karakter / Character", 4483362458)
local VIPTab = Window:CreateTab("Bypass & Gamepass", 4483362458)
local PlayerTab = Window:CreateTab("Oyuncu / Player", 4483362458)
local CarTab = Window:CreateTab("Araçlar / Vehicles", 4483362458)

-- 1. ALLPASSESFETCHED VE FULL GAMEPASS BYPASS
-- Bu bölüm gönderdiğin txt dosyasındaki tüm yetkileri Brookhaven sistemine zorla kabul ettirir.
VIPTab:CreateButton({
   Name = "Full Gamepass & Fetched Bypass (Tıkla)",
   Callback = function()
      local Success, Error = pcall(function()
          -- 1. SİSTEM: AllPassesFetched Engelini Kaldırma 
          -- Oyunun 'Sahip misin?' sorgusunu yapan MarketPlaceService'i manipüle ediyoruz.
          local mt = getrawmetatable(game)
          setreadonly(mt, false)
          local oldIndex = mt.__index
          mt.__index = newcclosure(function(t, k)
              if k == "UserOwnsGamePassAsync" or k == "PlayerOwnsAsset" then
                  return true
              end
              return oldIndex(t, k)
          end)

          -- 2. SİSTEM: Txt Dosyasındaki Tüm Yetkileri Zorla Aktif Etme 
          -- VIP, Premium, Araç Paketi, Hız Paketi vb. hepsini 'true' yapar.
          for _, v in pairs(getgc(true)) do
              if type(v) == "table" and (rawget(v, "__GAMEPASS") ~= nil or rawget(v, "AllPassesFetched") ~= nil) then
                  v.__GAMEPASS = true
                  v.AllPassesFetched = true -- Görseldeki engeli burada aşarız
                  v.Premium = true
                  v.VIP = true
              end
          end
      end)
      
      if Success then
          Rayfield:Notify({Title = "Bypass Başarılı", Content = "Fetched kontrolü ve tüm yetkiler açıldı!", Duration = 5})
      else
          Rayfield:Notify({Title = "Hata", Content = "Bypass uygulanamadı.", Duration = 5})
      end
   end,
})

-- 2. GELİŞMİŞ OYUNCU LİSTESİ VE İZLEME
local selectedPlayer = nil
local PlayerDrop = PlayerTab:CreateDropdown({
   Name = "Oyuncu Seç / Select Player",
   Options = {},
   CurrentOption = "",
   Callback = function(Option)
      selectedPlayer = game.Players:FindFirstChild(Option)
   end,
})

-- Otomatik Liste Güncelleme
spawn(function()
    while true do
        local names = {}
        for _, v in pairs(game.Players:GetPlayers()) do
            if v ~= game.Players.LocalPlayer then table.insert(names, v.Name) end
        end
        PlayerDrop:Refresh(names)
        task.wait(5)
    end
end)

PlayerTab:CreateToggle({
   Name = "İzle (View)",
   CurrentValue = false,
   Callback = function(Value)
      if Value and selectedPlayer and selectedPlayer.Character then
         game.Workspace.CurrentCamera.CameraSubject = selectedPlayer.Character.Humanoid
      else
         game.Workspace.CurrentCamera.CameraSubject = game.Players.LocalPlayer.Character.Humanoid
      end
   end,
})

-- 3. AVATAR KOPYALAMA (TAM PAKET)
PlayerTab:CreateButton({
   Name = "Avatar Kopyala / Copy Outfit",
   Callback = function()
      if selectedPlayer and selectedPlayer.Character then
          local LocalChar = game.Players.LocalPlayer.Character
          for _, v in pairs(LocalChar:GetChildren()) do
              if v:IsA("Shirt") or v:IsA("Pants") or v:IsA("Accessory") then v:Destroy() end
          end
          for _, v in pairs(selectedPlayer.Character:GetChildren()) do
              if v:IsA("Shirt") or v:IsA("Pants") or v:IsA("Accessory") then
                  v:Clone().Parent = LocalChar
              end
          end
      end
   end,
})

-- 4. ARAÇ HIZI VE KONTROLÜ
CarTab:CreateToggle({
   Name = "Süper Hız / Max Speed (On/Off)",
   CurrentValue = false,
   Callback = function(Value)
      _G.CarFast = Value
      spawn(function()
         while _G.CarFast do
            task.wait(0.1)
            pcall(function()
                for _, v in pairs(game.Workspace.Vehicles:GetChildren()) do
                    local seat = v:FindFirstChildWhichIsA("VehicleSeat", true)
                    if seat and seat.Occupant and seat.Occupant.Parent == game.Players.LocalPlayer.Character then
                        seat.MaxSpeed = 350
                        seat.Torque = 10000
                    end
                end
            end)
         end
      end)
   end,
})
