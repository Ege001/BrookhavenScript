-- Hexagon UI Library Entegrasyonu
local Rayfield = loadstring(game:HttpGet('https://sirius.menu/rayfield'))()

local lp = game.Players.LocalPlayer
local rs = game:GetService("ReplicatedStorage")
local runService = game:GetService("RunService")
local camera = workspace.CurrentCamera

local Window = Rayfield:CreateWindow({
   Name = "‚¨¢ HEXAGON HUB | OWNER: EgeKazak_Real1",
   LoadingTitle = "Hexagon Core Sistemleri Ba≈ülatƒ±lƒ±yor...",
   LoadingSubtitle = "By Gemini AI - Final Revision",
   ConfigurationSaving = { Enabled = true, FolderName = "HexagonCore" }
})

-- DEƒûƒ∞≈ûKENLER
local flying, noclip = false, false
local flySpeed, viewTarget = 50, nil

-- --- [SEKMELER] ---
local MainTab = Window:CreateTab("üè† Ana Panel", 4483362458)
local PlayerTab = Window:CreateTab("üë§ Oyuncu", 4483362458)
local VisualTab = Window:CreateTab("üåà G√∂rsel", 4483362458)
local ToolTab = Window:CreateTab("üì¶ E≈üyalar", 4483362458)
local MoveTab = Window:CreateTab("‚ö° Hareket", 4483362458)

-- --- [ANA PANEL: PLAYERSBAG & BYPASS] ---
MainTab:CreateButton({
   Name = "üîì Sƒ∞STEMƒ∞ √á√ñZ (PlayersBag & Data Bypass)",
   Callback = function()
       pcall(function()
           -- PlayersBag i√ßindeki t√ºm yetki klas√∂rlerini zorla aktif eder
           local pb = lp:FindFirstChild("PlayersBag")
           if pb then
               for _, v in pairs(pb:GetDescendants()) do
                   if v:IsA("BoolValue") then v.Value = true
                   elseif v:IsA("NumberValue") or v:IsA("IntValue") then v.Value = 1 end
               end
           end
           -- Brookhaven'ƒ±n i√ß kontrol deƒüi≈ükenlerini kandƒ±rma
           for _, v in pairs(getgc(true)) do
               if type(v) == "table" and rawget(v, "AllPassesFetched") ~= nil then
                   v.AllPassesFetched = true
                   v.Premium = true
                   v.VIP = true
               end
           end
           Rayfield:Notify({Title = "Sƒ∞STEM", Content = "Veritabanƒ± ba≈üarƒ±yla override edildi!", Duration = 5})
       end)
   end,
})

MainTab:CreateButton({
   Name = "üì¢ Ads/Sponsor Men√ºs√ºn√º A√ß",
   Callback = function()
       pcall(function()
           local gui = lp.PlayerGui:FindFirstChild("MainGUIHandler", true)
           local ads = gui and gui:FindFirstChild("AdStore", true)
           if ads then ads.Visible = true; ads.Position = UDim2.new(0.5, 0, 0.5, 0) end
       end)
   end,
})

-- --- [OYUNCU: VIEW & COPY] ---
PlayerTab:CreateInput({
   Name = "Oyuncu Adƒ±", PlaceholderText = "ƒ∞sim yaz...",
   Callback = function(t)
       for _, p in pairs(game.Players:GetPlayers()) do
           if p.Name:lower():find(t:lower()) then viewTarget = p end
       end
   end,
})

PlayerTab:CreateToggle({
   Name = "View (Kamerayƒ± Odakla)", CurrentValue = false,
   Callback = function(v)
       camera.CameraSubject = (v and viewTarget) and viewTarget.Character.Humanoid or lp.Character.Humanoid
   end,
})

PlayerTab:CreateButton({
   Name = "Avatar Kopyala (Copy Appearance)",
   Callback = function()
       if viewTarget then lp.CharacterAppearanceId = viewTarget.UserId; lp.Character:BreakJoints() end
   end,
})

-- --- [G√ñRSEL: RGB & RAINBOW] ---
VisualTab:CreateToggle({
   Name = "RGB Ara√ßlar & Rainbow Evler", CurrentValue = false,
   Callback = function(v)
       _G.HexVisual = v
       spawn(function()
           while _G.HexVisual do
               local c = Color3.fromHSV(tick() % 5 / 5, 1, 1)
               for _, car in pairs(workspace.Vehicles:GetChildren()) do
                   if car:FindFirstChild("Body") then car.Body.Color = c end
               end
               for _, h in pairs(workspace.Houses:GetChildren()) do
                   local colorPart = h:FindFirstChild("HouseColor", true)
                   if colorPart then colorPart.Color = c end
               end
               task.wait(0.1)
           end
       end)
   end,
})

-- --- [E≈ûYALAR: BROWSER] ---
local tools = {}
for _, t in pairs(rs:GetDescendants()) do if t:IsA("Tool") then table.insert(tools, t.Name) end end
ToolTab:CreateDropdown({
   Name = "E≈üya Se√ß ve Al", Options = tools,
   Callback = function(o)
       local tool = rs:FindFirstChild(o, true)
       if tool then tool:Clone().Parent = lp.Backpack end
   end,
})

-- --- [HAREKET: FLY & SPEED] ---
MoveTab:CreateToggle({
   Name = "U√ßma (Fly)", CurrentValue = false,
   Callback = function(v)
       flying = v
       local root = lp.Character:WaitForChild("HumanoidRootPart")
       if flying then
           local bg = Instance.new("BodyGyro", root); bg.P = 9e4; bg.maxTorque = Vector3.new(9e9, 9e9, 9e9)
           local bv = Instance.new("BodyVelocity", root); bv.maxForce = Vector3.new(9e9, 9e9, 9e9)
           spawn(function()
               while flying do
                   runService.RenderStepped:Wait()
                   local mv = require(lp.PlayerScripts:WaitForChild("PlayerModule")):GetControls():GetMoveVector()
                   bv.Velocity = (camera.CFrame.LookVector * -mv.Z + camera.CFrame.RightVector * mv.X) * flySpeed
                   bg.CFrame = camera.CFrame
               end
               bg:Destroy(); bv:Destroy()
           end)
       end
   end,
})

MoveTab:CreateSlider({
   Name = "Hƒ±z Ayarƒ±", Range = {16, 500},
   Callback = function(v) lp.Character.Humanoid.WalkSpeed = v end,
})

-- --- [AYARLAR & KAPAT] ---
local SettingsTab = Window:CreateTab("‚öôÔ∏è Ayarlar", 4483362458)
SettingsTab:CreateButton({
   Name = "üî¥ SCRIPT'ƒ∞ TAMAMEN KAPAT",
   Callback = function() Rayfield:Destroy() end,
})   Callback = function(Option)
       local tool = rs:FindFirstChild(Option, true)
       if tool then tool:Clone().Parent = lp.Backpack end
   end,
})

-- --- PLAYER: VIEW & COPY AVATAR ---
PlayerTab:CreateInput({
   Name = "Oyuncu Ara (ƒ∞sim)", PlaceholderText = "Ege...",
   Callback = function(Text)
       for _, p in pairs(game.Players:GetPlayers()) do
           if p.Name:lower():find(Text:lower()) then viewTarget = p end
       end
   end,
})
PlayerTab:CreateToggle({
   Name = "View (ƒ∞zle)", CurrentValue = false,
   Callback = function(v) camera.CameraSubject = (v and viewTarget) and viewTarget.Character.Humanoid or lp.Character.Humanoid end,
})
PlayerTab:CreateButton({
   Name = "Avatar Kopyala (Copy Avatar)",
   Callback = function() if viewTarget then lp.CharacterAppearanceId = viewTarget.UserId; lp.Character:BreakJoints() end end,
})

-- --- VEHICLE: RGB & TURBO ---
VehicleTab:CreateToggle({
   Name = "Ara√ß Turbo & RGB Mod", CurrentValue = false,
   Callback = function(Value)
      _G.CarMod = Value
      spawn(function()
         while _G.CarMod do
            for _, v in pairs(workspace.Vehicles:GetChildren()) do
                local seat = v:FindFirstChildWhichIsA("VehicleSeat", true)
                if seat and seat.Occupant and seat.Occupant.Parent == lp.Character then
                    seat.MaxSpeed, seat.Torque = 500, 50000
                    if v:FindFirstChild("Body") then v.Body.Color = Color3.fromHSV(tick() % 5 / 5, 1, 1) end
                end
            end
            task.wait(0.1)
         end
      end)
   end,
})

-- --- WORLD: RAINBOW HOUSES ---
WorldTab:CreateToggle({
   Name = "Rainbow Evler (G√∂kku≈üaƒüƒ±)", CurrentValue = false,
   Callback = function(v)
       rainbowHouses = v
       spawn(function()
           while rainbowHouses do
               for _, house in pairs(workspace.Houses:GetChildren()) do
                   for _, part in pairs(house:GetDescendants()) do
                       if part:IsA("BasePart") and part.Name == "HouseColor" then
                           part.Color = Color3.fromHSV(tick() % 5 / 5, 1, 1)
                       end
                   end
               end
               task.wait(0.1)
           end
       end)
   end,
})

-- --- MOVEMENT: FLY / NOCLIP ---
MoveTab:CreateToggle({Name = "Fly (U√ßma)", Callback = function(v) flying = v end})
MoveTab:CreateSlider({Name = "Hƒ±z", Range = {16, 500}, Callback = function(v) lp.Character.Humanoid.WalkSpeed = v end})
MoveTab:CreateToggle({
    Name = "Noclip (Duvar Ge√ßme)",
    Callback = function(v)
        noclip = v
        runService.Stepped:Connect(function()
            if noclip and lp.Character then
                for _, part in pairs(lp.Character:GetDescendants()) do
                    if part:IsA("BasePart") then part.CanCollide = false end
                end
            end
        end)
    end,
})

-- --- SETTINGS: LANGUAGE & DESTROY ---
SettingsTab:CreateDropdown({
   Name = "Dil Se√ßimi (Language)", Options = {"T√ºrk√ße", "English", "Deutsch", "Espa√±ol"},
   Callback = function(s) Rayfield:Notify({Title = "Sistem", Content = "Dil: " .. s}) end,
})
SettingsTab:CreateButton({
   Name = "üî¥ SCRIPT DESTROY (TAMAMEN KAPAT)",
   Callback = function() Rayfield:Destroy() end,
})
